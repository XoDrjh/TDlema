# 软件需求规格说明书1.3.0

[toc]

## 版本说明

此版本需求规格说明书暂时仅涉及移动端内容，统计数据及大数据分析等建议放到网页端处理。

### 1.3.0

明确了数据统计方法，新增二级条目“统计方法”

修改了用例“搜索学生”展示的数据内容

新增参与者“定时器”，新增用例“数据整理”，修改了用例图

### 1.2.0

修改了用例图，新增参与者”请假的学生“

细化了请假用例，新增用例”撤销请假“

对学生签到的 7 种状态补充了描述，新增二级条目”学生状态描述“

### 1.1.2

修改了学生端二维码报修时提交的数据项。

原来是“座位行号 + 座位列号 + 教室号 + 损坏二维码的照片”

现在是“座位行号 + 座位列号 + 教室号 + **校区** + 损坏二维码的照片”

### 1.1.1

修改了身份验证方式。

原来是“学工号+身份证后六位”，现改为“姓名+学工号”



## 最开始提出的需求

### 辅导员角度

查看其管理的所有班级的点到情况，了解同学的旷课与迟到次数

数据分析，根据一个学期或者一个学年的学生点到情况，主要分析学生点到情况与学生成绩的关系，例如学生座位与成绩的关系，学生出勤率与成绩的关系，学生提前到达教室时间与成绩的关系



### 教师角度

实时查看教师所教课程的点到情况，根据座位信息来了解到同学们的姓名、学号，让老师更了解同学

学生的状态修改，出勤方面：学生有按时出勤、迟到、旷课、请假、免听等状态，教师可以根据实时情况进行状态的修改；上课情况方面：老师可以根据学生的上课情况来给学生加上状态标签，例如某同学上课一直睡觉或玩手机，则可以给该同学添加睡觉或者玩手机的状态，老师也可以自定义备注。

通知学生功能，学生可以绑定其手机号码，当老师需要发布某些重要通知时，可以自己编写好通知，一键群发给所有的学生



### 学生角度

签到功能优化，学生可以通过扫码进行签到，若出现二维码损坏导致无法扫码的情况，学生可以输 入座位号来进行签到，并可以报修该二维码，将损坏的二维码的位置告知相关人员

请假功能，学生可以在点到软件上进行请假的申请，可以通过文字或者图片(假条照片、生病证明 等)将请假的信息传递给任课教师，但事后需要补上假条

换座功能，学生可以进行座位的更换，同时座位信息会更新，新的座位信息会实时同步显示给辅导 员与任课教师



## 驳回的需求

通知学生功能

> 学生可以绑定其手机号码，当老师需要发布某些重要通知时，可以自己编写好通知，一键群发给所有的学生

该需求被驳回的原因：

1. 技术上不可行

   目前所有短信提供商的短信服务均需要建立短信模板，且每一个短信模板都需要通过审核才能进行群发

2. 存在更好的功能途径

   教师可以在 qq 通知群里一键艾特全体成员，而无需通过短信告知全体学生



## 参与者

学生、教师、导员



## 用例识别

### 学生

<u>设计思路</u>：

学生用户在首次登录系统时需要进行身份验证，要求输入学号及姓名，验证成功即可进入应用主页。此后登录都无需再次验证（微信唯一 openid 与学号进行关联）。学生可以查看个人信息，同时可以修改个人信息（仅限解除绑定，同时返回绑定引导页）

<u>前端数据描述</u>：

[身份验证] 要求输入：**学号**、**姓名**

[查看个人信息] 向用户展示：**学号**、**姓名**、<u>**班级**</u>、**绑定状态**

<u>用例识别</u>：

登入（查）

绑定信息（改）

查看个人信息（查）

修改个人信息（改）



<u>设计思路</u>：

教室里每个座位都会贴有唯一的二维码，课前半小时开放扫码，学生来到教室即可扫码。若发现二维码损坏，学生可选择输入签到方式：要求输入座位行号、列号，同时提交一张损坏二维码的照片。学生扫码后如需调整座位，可通过再次扫码进行换座（座位行列号改变，签到时间不变）。此外，学生可以很方便地查看自己的扫码历史记录

注：因当前系统内不包含楼栋管理员，所以报修的实质是向开发者邮箱发送邮件

<u>前端数据描述</u>：

[输入签到] 要求用户输入：**座位行号**、**座位列号**，同时要求提交一张 **损坏二维码的照片**

[查看打卡记录] 向用户展示：**课程名称**、**打卡时间**、**教室号**、**座位行号**、**座位列号**、**打卡状态**、**校区**、**周次**

<u>用例识别</u>：

扫码签到（增）

输入签到（增）

换座（改）

查看打卡记录（查）



<u>设计思路</u>：

学生可在任何时候查看正在进行和即将进行的课程信息

注意：是“和”而非“或”

<u>前端数据描述</u>：

向用户展示：当前正在进行、下一课程：**课程名称**、<u>**授课老师**</u>、**校区**、**教室**、**周次**、**上课时间**、<u>**主要班级**</u>

<u>用例识别</u>：

查看课程信息（查）



<u>设计思路</u>：

用户在任何时候都可以进行二维码的报修，要求填写教室号、座位行号、座位列号，并提交一张损坏二维码的照片

<u>前端数据描述</u>：

[二维码报修] 要求用户输入：**座位行号**、**座位列号**、**教室号**、**校区**，同时要求提交一张 **损坏二维码的照片**

<u>用例识别</u>：

二维码报修（增）



<u>设计思路</u>：

目前南航智慧门户已经有一套现成的线上请假系统，学生在移动端或网页端提交请假申请，导员线上审批，估计和以往的纸质请假是一样的（即导员和教师都会拿到一份请假存根）。故本系统不打算也没有必要重新设计请假的功能。这里的请假，仅仅作为一种状态的标识：学生在学生端发起请假，教师即可在教师端看到学生的状态为“请假”。若教师在课后发现该生的请假情况不实，可修改其状态为“缺勤”。

请假状态下的学生不可以签到，但可以通过撤销请假使状态回归”缺勤“

<u>前端数据描述</u>：

无

<u>用例识别</u>：

请假（改）

撤销请假（改）



### 教师

<u>设计思路</u>：

教师用户在首次登录系统时需要进行身份验证，要求输入工号及姓名，验证成功即可进入应用主页。此后登录都无需再次验证（微信唯一 openid 与工号进行关联）。教师可以查看个人信息，同时可以修改个人信息（仅限解除绑定，同时返回绑定引导页）

<u>前端数据描述</u>：

[身份验证] 要求输入：**工号**、**姓名**

[查看个人信息] 向用户展示：**工号**、**姓名**、**绑定状态**

<u>用例识别</u>：

登入（查）

绑定信息（改）

查看个人信息（查）

修改个人信息（改）



<u>设计思路</u>：

教师可在任何时候查看正在进行和即将进行的课程信息

<u>前端数据描述</u>：

向用户展示：当前正在进行、下一课程：**课程名称**、**校区**、**教室**、**周次**、**上课时间**、<u>**主要班级**</u>

<u>用例识别</u>：

查看课程信息（查）



<u>设计思路</u>：

教师可在任何时候查看授课记录，包括查看这节课的统计数据以及座位分布。统计数据是指：应到（上课名单）、实到（准点/迟到/嫌疑/作弊）、未到（缺勤/请假/免修）的人数统计及名单展示；座位分布是指教师可以从图形直观上看到教室的座位分布情况（可以类比电影院线上购票时的座位图），暂定绿色代表准点、黄色代表迟到、红色代表嫌疑和作弊，同时每一个座位又是一个按钮，点开即可看到学生的座位信息。

在上课可签到时间段，教师可以实时查看课堂动态。它的实质和查看授课记录一样，但因为此时教师也可以查看以往的授课记录，为了区分二者所以有意把它们分开。

注：若两个学生座位重合，首先会被标记为“嫌疑”，教师确定后才会标记上“作弊”或其他状态

<u>前端数据描述</u>：

展示形式由 UI 设计师决定。展示的最小单位为单个学生一节课的签到记录。可展示的信息有：**学号**、**姓名**、**班级**、**打卡时间**、**座位行号**、**座位列号**、**打卡状态**、**状态标签**、**备注**

<u>用例识别</u>：

查看授课记录（查）

查看课堂实时动态（查）

查看课堂统计数据（查）

查看座位分布（查）

查看学生签到信息（查）



<u>设计思路</u>：

在基于一节课的基础上（包含正在进行的课程以及已经结束的），为教师提供如下能力：

1. 搜索学生

   教师可以通过姓名和学号对学生进行模糊检索，可以看到指定学生这节课的签到状态以及其过往的历史统计数据（准点率/迟到率/缺勤率/作弊率）

2. 更改学生状态

   每个学生只会处于一种状态之中（准点/迟到/嫌疑/作弊/缺勤/免修/请假），教师有能力修改学生的状态

3. <u>给学生添加状态标签</u>

   教师可以快速为学生添加状态标签（其本质相当于快速备注）。目前系统仅提供“睡觉”、“玩手机”两个标签，不允许教师自定义标签。有标签的学生在进行名单展示时会排列在前面。

4. 给学生签到信息添加备注

   系统允许教师为学生添加20字以内的备注（规定字数可修改）

<u>前端数据描述</u>：

[搜索学生] 可展示的签到信息有：**学号**、**姓名**、**班级**、**打卡时间**、**座位行号**、**座位列号**、**打卡状态**、**状态标签**、**备注**，但具体展示内容由 UI 设计师决定。另外还有该生的历史准点率/迟到率/缺勤率/作弊率

<u>用例识别</u>：

搜索学生（查）

更改学生状态（改）

给学生添加状态标签（改）

给学生签到信息添加备注（改）



### 导员

<u>设计思路</u>：

导员用户在首次登录系统时需要进行身份验证，要求输入工号及姓名，验证成功即可进入应用主页。此后登录都无需再次验证（微信唯一 openid 与工号进行关联）。导员可以查看个人信息，同时可以修改个人信息（仅限解除绑定，同时返回绑定引导页）

<u>前端数据描述</u>：

[身份验证] 要求输入：**工号**、**姓名**

[查看个人信息] 向用户展示：**工号**、**姓名**、**绑定状态**

<u>用例识别</u>：

登入（查）

绑定信息（改）

查看个人信息（查）

修改个人信息（改）



<u>设计思路</u>：

导员可在任何时候查看正在进行和即将进行的课程信息

注：就像每一节课都会对应一个教师，同时也会对应一个导员。查看课程信息的时候，就把所有该导员负责的课程都展示出来。导员需要具体查看哪一个课程，则再点击进去查看详情。

<u>前端数据描述</u>：

向用户展示：当前正在进行、下一课程：**课程名称**、<u>**授课老师**</u>、**校区**、**教室**、**周次**、**上课时间**、<u>**主要班级**</u>

<u>用例识别</u>：

查看课程信息（查）



<u>设计思路</u>：

导员可在任何时候查看课程记录，包括查看这节课的统计数据以及座位分布。统计数据是指：应到（上课名单）、实到（准点/迟到/嫌疑/作弊）、未到（缺勤/请假/免修）的人数统计及名单展示；座位分布是指导员可以从图形直观上看到教室的座位分布情况（可以类比电影院线上购票时的座位图），暂定绿色代表准点、黄色代表迟到、红色代表嫌疑和作弊，同时每一个座位又是一个按钮，点开即可看到学生的座位信息。

在上课可签到时间段，导员可以实时查看<u>各个</u>课堂的动态。它的实质和查看授课记录一样，但因为此时导员也可以查看以往的授课记录，为了区分二者所以有意把它们分开。

<u>前端数据描述</u>：

展示形式由 UI 设计师决定。展示的最小单位为单个学生一节课的签到记录。可展示的信息有：**学号**、**姓名**、**班级**、**打卡时间**、**座位行号**、**座位列号**、**打卡状态**、**状态标签**、**备注**

<u>用例识别</u>：

查看课程记录（查）

查看课堂实时动态（查）

查看课堂统计数据（查）

查看座位分布（查）

查看学生签到信息（查）



<u>设计思路</u>：

在基于一节课的基础上（包含正在进行的课程以及已经结束的），为导员提供如下能力：

1. 搜索学生

   导员可以通过姓名和学号对学生进行模糊检索，可以看到指定学生这节课的签到状态以及其过往的历史统计数据（准点率/迟到率/缺勤率/作弊率）

2. 更改学生状态

   每个学生只会处于一种状态之中（准点/迟到/嫌疑/作弊/缺勤/免修/请假），导师有能力修改学生的状态

3. 给学生签到信息添加备注

   系统允许导员为学生添加20字以内的备注（规定字数可修改）

注：系统不对导员开放“给学生添加状态标签”的能力

<u>前端数据描述</u>：

[搜索学生] 可展示的签到信息有：**学号**、**姓名**、**班级**、**打卡时间**、**座位行号**、**座位列号**、**打卡状态**、**状态标签**、**备注**，但具体展示内容由 UI 设计师决定。另外还有该生的历史准点率/迟到率/缺勤率/作弊率

<u>用例识别</u>：

搜索学生（查）

更改学生状态（改）

给学生签到信息添加备注（改）



## 用例图

注：详见 uml.mdj（用 StarUML 打开）

![image-20200203102727645](C:\Users\yinzi\AppData\Roaming\Typora\typora-user-images\image-20200203102727645.png)



## 新增的参与者与参与者描述

新增的参与者：用户、职工

参与者描述：

[用户] 全体用户的抽象

[学生] 学生用户，继承“用户”

[请假的学生] 继承”学生“

[职工] 教师用户和导员用户的抽象，包含了两者共有的内容，继承“用户”

[教师] 教师用户，继承“职工”

[导员] 导员用户，继承“职工”

[定时器] 下课时进行数据整理



## 学生状态描述

共有七个状态：准点、迟到、嫌疑、作弊、缺勤、请假、免修

准点：学生准时到达教室

迟到：学生在上课后到达教室

嫌疑：签到时，两个或多个学生产生座位冲突，则说明其中有人作弊，但因为还不能确定具体是哪一个人，所以此时冲突涉及的所有人均会被标记为”嫌疑“

作弊：产生签到记录，但实际没有来上课，且被老师发现

缺勤：所有非免修学生的默认初始状态

请假：学生提出请假申请

免修：免修生没有签到的必要，”免修“状态无法向其它 6 个状态转换



以下是这 7 个状态的状态机图：

### 学生角度

缺勤：即没签到时，可以进行签到，或在下课前请假。正常签到则状态变为”准点“或”迟到“

请假：处于请假状态的学生不可以进行签到，但是可以撤销请假，使状态回归”缺勤“

准点：若与别人产生座位冲突则自动转换成”嫌疑“，但在学生看来自己还是准点，只有老师 / 导员能看到学生状态为”嫌疑“

迟到：若与别人产生座位冲突则自动转换成”嫌疑“，但在学生看来自己还是迟到，只有老师 / 导员能看到学生状态为”嫌疑“



![image-20200201174036354](C:\Users\yinzi\AppData\Roaming\Typora\typora-user-images\image-20200201174036354.png)



### 教师 / 导员角度

教师 / 导员 可以在”准点“、”迟到“、”嫌疑“、”作弊“四个中任意切换学生状态

缺勤：教师 / 导员 可以修改学生状态为”请假“

请假：若 教师 / 导员 发现学生的请假情况不实，可将其状态修改为”缺勤“

![image-20200201180353568](C:\Users\yinzi\AppData\Roaming\Typora\typora-user-images\image-20200201180353568.png)



## 统计方法

| 状态 | 总上课次数 | 准点次数 | 迟到次数 | 缺勤次数 | 作弊次数 |
| ---- | ---------- | -------- | -------- | -------- | -------- |
| 准点 | +1         | +1       |          |          |          |
| 迟到 | +1         |          | +1       |          |          |
| 缺勤 | +1         |          |          | +1       |          |
| 请假 | +1         |          |          | +1       |          |
| 作弊 | +1         |          |          | +1       | +1       |
|      |            |          |          |          |          |
| 嫌疑 | +0         |          |          |          |          |
| 免修 | +0         |          |          |          |          |

$$
准点率 = 准点次数 / 总上课次数
$$

$$
迟到率 = 迟到次数 / 总上课次数
$$

$$
缺勤率 = 缺勤次数 / 总上课次数
$$

$$
准点率 + 迟到率 + 缺勤率 = 1
$$

$$
作弊率 = 作弊次数 / 总上课次数
$$



## 细化用例

1. 登入

   描述：用户进入应用

   参与者：用户

2. 绑定信息

   描述：用户第一次使用系统的时候要求验证身份信息

   参与者：用户

3. 绑定学生信息

   描述：学生验证身份时要求学号和姓名要匹配

   参与者：学生

   继承：绑定信息

4. 绑定职工信息

   描述：职工验证身份时要求工号和姓名要匹配

   参与者：职工

   继承：绑定信息

5. 查看个人信息

   描述：用户可以查看自己的个人信息

   参与者：用户

6. 查看学生个人信息

   描述：学生可以查看自己的学号、姓名、班级、绑定状态

   参与者：学生

   继承：查看个人信息

7. 查看职工个人信息

   描述：职工可以查看自己的工号、姓名、绑定状态

   参与者：职工

   继承：查看个人信息

8. 修改个人信息

   描述：用户可以解除绑定

   参与者：用户

9. 查看课程信息

   描述：用户可以查看正在进行和即将进行的课程信息

   参与者：用户

10. 查看学生课程信息

    描述：学生用户可以查看自己正在进行以及即将进行的课程信息

    参与者：学生

    继承：查看课程信息

11. 查看教师课程信息

    描述：教师用户可以查看自己正在进行以及即将进行的授课信息

    参与者：教师

    继承：查看课程信息

12. 查看多个课程信息

    描述：导员用户可以查看自己负责的正在进行以及即将进行的（多个）相关课程的信息

    参与者：导员

    继承：查看课程信息

13. 扫码签到

    描述：在上课前或者上课时学生通过扫描座位上的二维码进行签到

    参与者：学生

14. 输入签到

    描述：若扫码签到时发现二维码损坏，学生可选择输入签到方式：要求输入座位行号、列号，同时提交一张损坏二维码的照片

    参与者：学生

    拓展：扫码签到

    拓展点：扫码签到时发现二维码损坏

    包含：二维码报修

15. 换座

    描述：学生更换座位

    参与者：学生

16. 查看打卡记录

    描述：学生查看自己的签到历史记录

    参与者：学生

17. 二维码报修

    描述：学生用户课在任何时候进行二维码的报修

    参与者：学生

18. 请假

    描述：学生可以发起请假

    参与者：请假的学生

19. 撤销请假

    描述：请假的学生可以撤销请假

    参与者：请假的学生

20. 查看课程记录

    描述：职工可以查看过去某一节课的课程记录

    参与者：职工

    包含：查看座位分布、查看课堂统计数据

21. 查看授课记录

    描述：教师可以查看过去的授课记录

    参与者：教师

    继承：查看课程记录

22. 查看年级课程记录

    描述：导员可以查看过去自己所负责课程的课程记录

    参与者：导员

    继承：查看课程记录

23. 查看课堂实时动态

    描述：职工可以实时查看正在进行课堂的动态情况

    参与者：职工

    包含：查看座位分布、查看课堂统计数据

24. 查看授课实时动态

    描述：教师可以实时查看正在授课的课堂动态

    参与者：教师

    继承：查看课堂实时动态

25. 查看各课程实时动态

    描述：导员可以实时查看正在进行的多门课程的课堂动态

    参与者：导员

    继承：查看课堂实时动态

26. 查看课堂统计数据

    描述：职工用户可以查看某一节课的统计数据

    参与者：职工

27. 查看座位分布

    描述：职工用户可以从图形直观上查看某一节课的教室座位分布情况

    参与者：职工

28. 查看学生签到信息

    描述：职工用户可以查看某一个学生某一节课上的签到信息

    参与者：职工

29. 搜索学生

    描述：职工用户可以通过姓名和学号对学生进行模糊检索

    参与者：职工

30. 更改学生状态

    描述：职工用户有能力修改学生的状态（准点/迟到/嫌疑/作弊/缺勤/免修/请假）

    参与者：职工

31. 给学生添加状态标签

    描述：教师可以快速为学生添加状态标签：睡觉/玩手机。有标签的学生在进行名单展示时会排列在前面

    参与者：教师

32. 给学生签到信息添加备注

    描述：职工用户可以为某一学生某一节课的签到信息添加20字以内的备注

    参与者：职工
    
33. 数据整理

    描述：每次下课的时候进行数据整理以便于后期统计

    参与者：定时器

